{% extends 'base.html.twig' %}

{% block title %}Recettes maison{% endblock %}

{% block body %}

    <div class="new-recipe">
        <div class="header">
            <h1>Enregistrer une nouvelle recette</h1>
            <img src="{{ asset('build/cook-3.jpg') }}">
        </div>

        <div class="formNew">
            <h2>Ma nouvelle recette</h2>
            {{ form_start(formRecipe) }}
            {{ form_row(formRecipe.title, { 'label': 'Titre' }) }}
            {{ form_row(formRecipe.subCategory, { 'label': 'Sous-Catégorie' }) }}
            {{ form_row(formRecipe.pictureUrl, { 'label': 'Lien d\'illustartion' }) }}
            {{ form_row(formRecipe.isFavorite, { 'label': 'Recette préférée ?' }) }}
            {{ form_row(formRecipe.description, { 'label': 'Description :' }) }}

            <h3>Matériel :</h3>
            <button type="button" class="add_item_link add-btn" data-collection-holder-class="materials">+</button>
            <ul class="materials" data-prototype="{{ form_widget(formRecipe.materials.vars.prototype)|e('html_attr') }}">
                {% for material in formRecipe.materials %}
                <li>{{ form_row(material.name) }}</li>
                {% endfor %}
            </ul>

            <h3>Ingrédients :</h3>
            <button type="button" class="add_item_link add-btn" data-collection-holder-class="ingredients">+</button>
            <ul class="ingredients" data-prototype="{{ form_widget(formRecipe.ingredients.vars.prototype)|e('html_attr') }}">
                {% for ingredient in formRecipe.ingredients %}
                    <li>{{ form_row(ingredient.name) }} {{ form_row(ingredient.quantity) }}</li>
                {% endfor %}
            </ul>

            <button type="submit" class="add-btn">Enregistrer</button>
            <div class="end-form">
                {{ form_end(formRecipe) }}
            </div>

        </div>
    </div>
{% endblock %}